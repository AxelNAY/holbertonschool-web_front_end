<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8" />
        <title>Task 6</title>
        <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js"
        integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8="
        crossorigin="anonymous"></script>
        <script type="application/javascript">
            function createFamilyTree()
            {
                const tableHtml = `
                    <table>
                        <thead>
                            <tr>
                                <th>Firstname</th>
                                <th>Lastname</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                `;
                $(document.body).append(tableHtml);
            }
            function addNewMember(firstName, lastName, position)
            {
                const newtable = `
                    <tr>
                        <td>${firstName}</td>
                        <td>${lastName}</td>
                        <td class="btnclose">(x)</td>
                    </tr>
                `;
                $(document).on('click', 'td:contains("(x)")', function() {
                    $(this).closest('tr').remove();
                });
                if (position === 'before') {
                    $('tbody').prepend(newtable);
                }
                else
                {
                    $('tbody').append(newtable);
                }
                $('.btnclose').css("background-color", "orange");
            }
            function createForm()
            {
                const formHTML = `
                    <form>
                        <input type="text"></input>
                        <input type="text"></input>
                        <select>
                            <option value="before">Before</option>
                            <option value="after">After</option>
                        </select>
                        <input type="submit" value="Submit"></input>
                    </form>
                `;
                $(document.body).prepend(formHTML);
                $('input:last').click(function (e) {
                    e.preventDefault();
                    addNewMember($('input:first').val(), $('input:nth-of-type(2)').val(), $('select').val());
                    $('input[type="text"]').val('');
                })
            }
            $(document).ready(function() {
                createFamilyTree();
                createForm();
            });
        </script>
    </head>

    <body>

    </body>

</html>